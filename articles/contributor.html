<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contributing to qData • qData</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Contributing to qData">
<meta property="og:description" content="qData">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">qData</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/user.html">Use</a>
    </li>
    <li>
      <a href="../articles/developer.html">Develop</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/globalgov/qDatr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="contributor_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Contributing to qData</h1>
                        <h4 class="author">James Hollway</h4>
            
            <h4 class="date">2021-03-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/globalgov/qDatr/blob/master/vignettes/contributor.Rmd"><code>vignettes/contributor.Rmd</code></a></small>
      <div class="hidden name"><code>contributor.Rmd</code></div>

    </div>

    
    
<div id="contributing-to-the-qdata-ecosystem-of-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#contributing-to-the-qdata-ecosystem-of-packages" class="anchor"></a>Contributing to the qData ecosystem of packages</h2>
<p><a href="https://github.com/globalgov/qDatr">qData</a> has package related functions that help developers contribute to the ecosystem of packages by helping with the set-up of packages consistent with <a href="https://github.com/globalgov/qDatr">qData</a>. The function <code><a href="../reference/setup_package.html">setup_package()</a></code>, for example, establishes many of the required files and folder structures for a <a href="https://github.com/globalgov/qDatr">qData</a>-consistent data package. It requires that the package name starts with a the letter “q” as well as that the name of one author is declared. For author’s name, please declare surname(s) first and then given name(s) separated by commas. The function accepts ORCID numbers instead of author names as well.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/setup_package.html">setup_package</a></span><span class="op">(</span><span class="st">"qStates"</span>, name <span class="op">=</span> <span class="st">"Hollway, James"</span><span class="op">)</span></code></pre></div>
<p>For adding on package contributors or authors to q Package later on, use to the <code><a href="../reference/add_author.html">add_author()</a></code> function. This function also accepts ORCID numbers instead of author names.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/add_author.html">add_author</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Sposito, Henrique"</span><span class="op">)</span></code></pre></div>
</div>
<div id="collecting-data" class="section level2">
<h2 class="hasAnchor">
<a href="#collecting-data" class="anchor"></a>Collecting data</h2>
<p>For data collection and loading into a new package with <a href="https://github.com/globalgov/qDatr">qData</a>, the function <code><a href="../reference/import_data.html">import_data()</a></code> creates a data-raw folder into the package, copies the raw data into the folder and provides a script to facilitate data loading and data correction using <a href="https://github.com/globalgov/qDatr">qData</a>. The function requires that a name for the dataset - two dimensional data sheet being imported - is declared, in upper case letters, as well as the name of the issue-domain, in lower case letters, the dataset belongs. The domain issue name will be used to connect two-dimensional datasets into three-dimensional databases that resembles a data cube (a list object where entries are tibbles).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">qData</span><span class="fu">::</span><span class="fu"><a href="../reference/import_data.html">import_data</a></span><span class="op">(</span><span class="st">"COW"</span>, <span class="st">"states"</span><span class="op">)</span></code></pre></div>
</div>
<div id="correcting-data" class="section level2">
<h2 class="hasAnchor">
<a href="#correcting-data" class="anchor"></a>Correcting data</h2>
<p>Once a dataset is collected with <code><a href="../reference/import_data.html">import_data()</a></code>, it needs to be corrected so that it can be connected into a database. <a href="https://github.com/globalgov/qDatr">qData</a> contains several functions geared towards data wrangling. These include, for example, the <code><a href="../reference/transmutate.html">transmutate()</a></code> function which is between <a href="https://dplyr.tidyverse.org">dplyr</a>’s transmute and mutate but that returns only the mutated variables and none of the variables used in the mutations. <a href="https://github.com/globalgov/qDatr">qData</a> also includes functions that help correct and standardise dates. These include, for example, the <code><a href="../reference/standardise_dates.html">standardise_dates()</a></code> function which creates nested vectors of dates for vague date inputs into a range of dates. As well, the <code>standardise_title()</code> function capitalises all words in a string and removes unnecessary symbols to enable comparison.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">COW</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/transmutate.html">transmutate</a></span><span class="op">(</span>ID <span class="op">=</span> <span class="va">stateabb</span>,
                   Beg <span class="op">=</span> <span class="fu"><a href="../reference/standardise_dates.html">standardise_dates</a></span><span class="op">(</span><span class="va">styear</span>, <span class="va">stmonth</span>, <span class="va">stday</span><span class="op">)</span>,
                   End <span class="op">=</span> <span class="fu"><a href="../reference/standardise_dates.html">standardise_dates</a></span><span class="op">(</span><span class="va">endyear</span>, <span class="va">endmonth</span>, <span class="va">endday</span><span class="op">)</span>,
                   Label <span class="op">=</span> <span class="fu"><a href="../reference/standardise_titles.html">standardise_titles</a></span><span class="op">(</span><span class="va">statenme</span><span class="op">)</span>,
                   COW_Nr <span class="op">=</span> <span class="fu"><a href="../reference/standardise_titles.html">standardise_titles</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">ccode</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Contributors should make sure the variables names in the datasets are in line with <a href="https://github.com/globalgov/qDatr">qData</a> ecosystem. Datasets part of the same database should have similar variables which allows to build up the ‘datacube’ for comparison.</p>
</div>
<div id="connecting-data" class="section level2">
<h2 class="hasAnchor">
<a href="#connecting-data" class="anchor"></a>Connecting data</h2>
<p>Once the dataset has been corrected in <a href="https://github.com/globalgov/qDatr">qData</a>, the cleaned dataset can be loaded into the package using the <code><a href="../reference/export_data.html">export_data()</a></code> function which take as inputs the dataset name and the database name as a string. Corrected datasets can be connected to form a three dimensional database that resembles a data cube. The website source of the data should be indicated in the third argument of the function. The function creates a database in a data folder to store corrected datasets, while providing a citation template and a test template. The citation template helps cite the source of the raw data and and describe the variables in the corrected dataset. The test template makes sure the corrected dataset is consistent with <a href="https://github.com/globalgov/qDatr">qData</a> guidelines.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">qData</span><span class="fu">::</span><span class="fu"><a href="../reference/export_data.html">export_data</a></span><span class="op">(</span><span class="va">COW</span>, <span class="st">"states"</span>, URL <span class="op">=</span> <span class="st">"https://correlatesofwar.org/data-sets/state-system-membership"</span><span class="op">)</span></code></pre></div>
<p>The test template is meant to ensure consistency for the corrected dataset. If these tests fail, users can go back to correcting the data and then re-run <code><a href="../reference/export_data.html">export_data()</a></code>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://jameshollway.com">James Hollway</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
