---
output: github_document
---

```{r setup, include=FALSE, warning=FALSE, message=FALSE}
knitr::opts_chunk$set(warning   = FALSE, message   = FALSE, out.width = "100%",
                      comment   = "#>", fig.path  = "man/figures/README-")
```

# manydata <img src="man/figures/manydataLogo.png" align="right" width="220"/>

<!-- badges: start -->
[![lifecycle](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
![GitHub release (latest by date)](https://img.shields.io/github/v/release/globalgov/manydata)
![GitHub Release Date](https://img.shields.io/github/release-date/globalgov/manydata)
![GitHub issues](https://img.shields.io/github/issues-raw/globalgov/manydata)
<!-- [![HitCount](http://hits.dwyl.com/globalgov/manydata.svg)](http://hits.dwyl.com/globalgov/manydata) -->
[![Codecov test coverage](https://codecov.io/gh/globalgov/manydata/branch/main/graph/badge.svg)](https://app.codecov.io/gh/globalgov/manydata?branch=main)
[![CodeFactor](https://www.codefactor.io/repository/github/globalgov/manydata/badge)](https://www.codefactor.io/repository/github/globalgov/manydata)
[![CII Best Practices](https://bestpractices.coreinfrastructure.org/projects/4562/badge)](https://bestpractices.coreinfrastructure.org/projects/4562)
<!-- ![GitHub All Releases](https://img.shields.io/github/downloads/jhollway/roctopus/total) -->
<!-- badges: end -->

`{manydata}` is a portal to many packages containing many databases (each containing many related datasets)
on many issue-domains, actors and institutions of global governance.
This package contains tools for: 

- _calling_ data packages and databases, 
- _comparing_ individual datasets, and
- _consolidating_ databases in different ways.

We intend for `{manydata}` to be useful: 

- at the **start** of a research project, 
to access and gather recent versions of well-regarded datasets, 
see what is available, describe, and explore the data, 
- in the **middle** of a project, 
to facilitate analysis, comparison and modelling, and
- at the **end** of the project, 
to help with conducting robustness checks, preparing replication scripts, and writing the next grant application.

## Call 'many' packages

`{manydata}` connects users to other packages that help fill global governance researchers' data needs.
The easiest way to install `{manydata}` is directly from CRAN.

```{r install, eval=FALSE}
install.packages("manydata")
```

The development version of the package `{manydata}` can also be downloaded from GitHub. 

```{r git, eval=FALSE}
# install.packages("remotes")
remotes::install_github("globalgov/manydata")
```

Once installed, the `call_packages()` function can be used to discover the 'many packages' currently available
and/or download or update these packages when needed.

```{r, include=FALSE, message=FALSE, warning=FALSE}
library(manydata)
```

```{r get, eval=FALSE}
library(manydata)
call_packages() # lists all packages currently available
call_packages("manytrade") # downloads and installs this package
```

`call_sources()` obtains information about the sources and original locations of the desired datasets.

## Comparing 'many' datasets

Once 'many' data packages are downloaded, `{manydata}` helps users visualize the
relationship between matched observations across datasets within a database  for a 'many' package database.

```{r, message=FALSE, warning=FALSE}
plot_categories(database = emperors, key = "ID", variable = "all", category = "all")
```

## Consolidating 'many' databases

`{manydata}` also contains flexible methods for consolidating the different datasets in a database
into a single dataset.
For example, you could have the rows (observations) from one dataset, but add on some columns (variables) from another dataset.
Where there are conflicts in the values across the different datasets,
there are several ways that these may be resolved.

```{r, message=FALSE, warning=FALSE}
consolidate(database = emperors, rows = "every", cols = "every",
            resolve = "coalesce", key = "ID")
```

For more on `{manydata}`, 
please see the [user vignette](https://globalgov.github.io/manydata/articles/user.html) on our website 
or check out the package cheat sheet:

<a href="https://github.com/globalgov/manydata/blob/develop/man/figures/cheatsheet.pdf"><img src="https://raw.githubusercontent.com/globalgov/manydata/develop/man/figures/cheatsheet.png" width="525" height="378"/></a>

## Contributing to the many packages universe

For more information for developers and data contributors to 'many packages', please see `{manypkgs}` [the website](https://globalgov.github.io/manypkgs/).
