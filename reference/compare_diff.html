<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compare two datasets for differences — compare_diff • manydata</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Compare two datasets for differences — compare_diff"><meta name="description" content="Compare two datasets for differences"><meta property="og:description" content="Compare two datasets for differences"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">manydata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to home"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other packages</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-other-packages"><li><a class="external-link dropdown-item" href="https://globalgov.github.io/manypkgs/">manypkgs</a></li>
    <li><a class="external-link dropdown-item" href="https://globalgov.github.io/manystates/">manystates</a></li>
  </ul></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/globalgov/manydata" aria-label="View on Github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compare two datasets for differences</h1>
      <small class="dont-index">Source: <a href="https://github.com/globalgov/manydata/blob/main/R/compare_diff.R" class="external-link"><code>R/compare_diff.R</code></a></small>
      <div class="d-none name"><code>compare_diff.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compare two datasets for differences</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compare_new</span><span class="op">(</span><span class="va">.data1</span>, <span class="va">.data2</span>, by <span class="op">=</span> <span class="st">"ID"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">compare_diff</span><span class="op">(</span></span>
<span>  <span class="va">.data1</span>,</span>
<span>  <span class="va">.data2</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"ID"</span>,</span>
<span>  exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Title"</span>, <span class="st">"Coder"</span>, <span class="st">"Comments"</span><span class="op">)</span>,</span>
<span>  diff_threshold <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data-">.data1<a class="anchor" aria-label="anchor" href="#arg--data-"></a></dt>
<dd><p>First dataset to compare</p></dd>


<dt id="arg--data-">.data2<a class="anchor" aria-label="anchor" href="#arg--data-"></a></dt>
<dd><p>Second dataset to compare</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>Column name to join on (default is "ID")</p></dd>


<dt id="arg-exclude">exclude<a class="anchor" aria-label="anchor" href="#arg-exclude"></a></dt>
<dd><p>Character vector of column names to exclude from comparison.
By default, "Title", "Coder", and "Comments" are excluded.</p></dd>


<dt id="arg-diff-threshold">diff_threshold<a class="anchor" aria-label="anchor" href="#arg-diff-threshold"></a></dt>
<dd><p>Integer specifying the minimum number of differing
columns for a row to be included in the output.
Default is 0, meaning any difference will be included.
Set to 3 to only show rows with at least 3 differing columns.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with the differences found</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function uses <code><a href="https://dplyr.tidyverse.org/reference/filter-joins.html" class="external-link">dplyr::anti_join</a></code> to find rows in <code>.data1</code>
that are not present in <code>.data2</code>.
If no differences are found, a message is printed and <code>NULL</code> is returned.
If differences are found, they are returned as a data frame.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>ID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, Value <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>ID <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">7</span>, Value <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">compare_new</span><span class="op">(</span><span class="va">df1</span>, <span class="va">df2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">compare_new</span><span class="op">(</span><span class="va">df1</span>, <span class="va">df1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span><span class="fu">compare_diff</span><span class="op">(</span><span class="va">emperors</span><span class="op">$</span><span class="va">Wikipedia</span>, <span class="va">emperors</span><span class="op">$</span><span class="va">Britannica</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Begin         End          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Augustus           "-0026-01-16" "0014-08-19" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tiberius           "0014-09-18"  "0037-03-16" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Caligula           "0037-03-18"  "0041-01-24" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Claudius           "0041-01-25"  "0054-10-13" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nero               "0054-10-13"  "0068-06-09" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Galba              "0068-06-08"  "0069-01-15" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Otho               "0069-01-15"  "0069-04-16" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Vitellius          "0069-04-17"  "0069-12-20" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Vespasian          "0069-12-21"  "0079-06-24" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Titus              "0079-06-24"  "0081-09-13" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Domitian           "0081-09-14"  "0096-09-18" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nerva              "0096-09-18"  "0098-01-27" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Trajan             "0098-01-28"  "0117-08-07" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hadrian            "0117-08-11"  "0138-07-10" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Antoninus Pius     "0138-07-10"  "0161-03-07" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lucius Verus       "0161-03-07"  "0169-03-15~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Marcus Aurelius    "0161-03-07"  "0180-03-17" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Commodus           NA            "0192-12-31" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pertinax           "0193-01-01"  "0193-03-28" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Didius Julianus    "0193-03-28"  "0193-07-01" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Septimus Severus   "0193-04-09"  "0211-02-04" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Caracalla          NA            "0217-04-08" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geta               NA            "0211-12-26" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Macrinus           "0217-04-11"  "0218-06-08" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Elagabalus         "0218-06-08"  "0222-03-11" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Severus Alexander  "0222-03-13"  "0235-03-18" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximinus I        "0235-03-20"  "0238-06-15~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gordian I          "0238-03-22"  "0238-04-12" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gordian II         "0238-03-22"  "0238-04-12" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Balbinus           "0238-04-22"  "0238-07-29" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pupienus           NA            NA           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gordian III        NA            "0244-02-11" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Philip I           "0244-02-14"  "0249-10-01~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Decius             "0249-10-01~" "0251-06-15~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hostilian          "0251-06-15~" "0251-10-01~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Trebonianus Gallus "0251-06-15~" "0253-08-15~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aemilian           "0253-08-15~" "0253-10-15~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valerian           "0253-10-15~" "0260-01-01~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gallienus          "0253-10-15~" "0268-09-15~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Claudius Gothicus  "0268-09-15~" "0270-01-15~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Quintillus         "0270-01-15~" "0270-04-15~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aurelian           "0270-09-15"  "0275-09-15" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tacitus            "0275-09-25"  "0276-06-15~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Florian            "0276-06-15~" "0276-09-15~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Probus             "0276-09-15~" "0282-10-01~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Carus              "0282-10-01~" "0283-08-01~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Numerian           "0283-08-01~" "0284-11-20~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Carinus            "0283-08-01~" "0285-08-01~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Diocletian         "0284-11-20"  "0305-05-01" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximian           "0286-04-01"  "0305-05-01" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Constantius I      "0305-05-01"  "0306-07-25" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Severus II         "0305-05-01"  "0307-09-16" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Galerius           "0305-05-01"  "0311-05-01~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Constantine I      "0306-07-25"  "0337-05-22" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maxentius          "0306-10-08"  "0312-10-08" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lucinius I         "0308-11-11"  "0324-09-18" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximinus II       "0311-05-01"  "0313-08-01~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Constantine II     "0337-05-22"  "0340-01-01" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Constantius II     "0337-05-22"  "0361-11-03" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Constans I         "0337-05-22~" "0350-02-14~"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Julian             "0360-02-14~" "0363-06-26" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Jovian             "0363-06-26"  "0364-02-17" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valentinian I      "0364-02-26"  "0375-11-17" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valens             "0364-03-28"  "0378-08-09" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gratian            "0367-08-04"  "0383-08-25" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valentinian II     "0375-11-17"  "0392-05-15" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Theodosius I       "0379-01-01"  "0395-01-17" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Constantius III    "0421-02-08"  "0421-09-02" </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>manydata</p>
</div>

<div class="pkgdown-footer-right">
  <p>Part of the <a href="https://panarchic.ch/" class="external-link">PANARCHIC project</a>.</p>
</div>

    </footer></div>





  </body></html>

